<!DOCTYPE html>
<html>
    <head>
        <title>Tracelogger</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <style>
            div.overall-background {
                height: 100vh;
                background-color: rgb(240,236,233);
            }
            div.top-background {
                padding-bottom: 0.25em;
                padding-top: 0.25em;
                font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif;
                font-weight: bold;
                width: 72%;
                margin-left: auto;
                margin-right: auto;
            }
            div.top-panel {
                width: 97%;
                margin-left: auto;
                margin-right: auto;
                margin-top: 1em;
                color: rgb(187,38,73);
                background-color: rgb(212,202,205);
                padding: 1em;
                border-style: solid;
                border-color: rgb(187,38,73);
                border-radius: 0.75em;
            }
            div.center-background {
                margin-top: 1em;
                font-weight: bold;
                width: 70%;
                margin-left: auto;
                margin-right: auto;
                display: flow;
            }
            div.outline {
                font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif;
                float: left;
                width: 15%;
                left: -1em;
                position: relative;
            }
            div.content {
                float: right;
                width: 80%;
                border-style: none;
            }
            div.panel {
                color: rgb(126,75,82);
                background-color: rgb(240,236,233);
                font-family: Cambria, serif;
                font-weight: normal;
                font-size: 1em;
                text-align: justify;
            }
            div.code {
                color: rgb(55,57,72);
                background-color: rgb(229,204,175);
                font-family: Consolas, monospace;
                font-weight: normal;
                font-size: 0.8em;
                margin-bottom: 1em;
                margin-top: 1em;
                padding: 0.5em;
                border-radius: 0.5em;
                border-style: dotted;
                border-color: rgb(55,57,72);
                border-width: 1px;
                overflow-x: scroll;
                overflow-y: hidden;
            }
            div.imprint {
                width: 70%;
                margin-left: auto;
                margin-right: auto;
                margin-top: 1em;
                border-style: solid;
                border-color: rgb(187,38,73);
                background-color: rgb(212,202,205);
                border-radius: 0.75em;
                text-align: center;
                padding-left: 1em;
                padding-right: 1em;
            }
            a:link{
                text-decoration: none
            }
            a:hover{
                text-decoration: none;
            }
            a:visited{
            }
            a.head-link {
                color: rgb(187,38,73);
            }
            a.section-link {
                color: rgb(133,160,171);
            }
            a.content-link {
                color: rgb(126,75,82);
                text-decoration: underline;
            }
            p.headline {
                color: rgb(187,38,73);
                background-color: rgb(240,236,233);
                font-family: Cambria, serif;
                font-weight: bold;
                font-size: 1em;
            }
            td.code {
                white-space: pre;
            }
            span.code {
                font-family: Consolas, monospace;
                font-weight: normal;
                font-size: 0.8em;
            }
            a.code-link {
                color: rgb(126,75,82);
                text-decoration: underline;
                font-family: Consolas, monospace;
                font-weight: normal;
                font-size: 0.8em;
            }
            div.menu {
                border-top-style: solid;
                border-bottom-style: solid;
                border-color: rgb(126,75,82);
                border-width: 1px;
                padding: 1em;
                color: rgb(187,38,73);
                font-family: Cambria, serif;
                font-weight: bold;
                font-size: 1em;
            }
            a.menu {
                color: rgb(187,38,73);
            }
            span.keyword {
                font-family: Consolas, monospace;
                font-weight: bold;
            }
            div.main {
                min-width: 1100px;
                overflow-x: auto;
            }
            @media (max-width: 1500px) {
                div.top-background {
                    padding-bottom: 0.25em;
                    padding-top: 0.25em;
                    font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif;
                    font-weight: bold;
                    width: 93%;
                    margin-left: auto;
                    margin-right: auto;
                }
                div.center-background {
                    margin-top: 1em;
                    font-weight: bold;
                    width: 90%;
                    margin-left: auto;
                    margin-right: auto;
                    display: flow;
                }
                div.imprint {
                    width: 90%;
                    margin-left: auto;
                    margin-right: auto;
                    margin-top: 1em;
                    border-style: solid;
                    border-color: rgb(187,38,73);
                    background-color: rgb(212,202,205);
                    border-radius: 0.75em;
                    text-align: center;
                    padding-left: 1em;
                    padding-right: 1em;
                }
            }
            html, body {
                height: 100vh;
            }
        </style>
    </head>
    <body style="background-color: rgb(240,236,233);">
        <div class="overall-background">
            <div class="main">
                <div class="top-background">
                    <div style="color: rgb(187,38,73); margin-top: 1em; margin-bottom: 1em; font-size: 0.9em; text-align: right">
                        <span style="font-style: italic;">Last updated: 18-December-2023</span>
                    </div>
                    <div class="top-panel">
                        <span style="font-size: 3em;">
                            Tracelogger
                        </span>
                    </div>
                </div>
                <div class="center-background">
                    <div class="outline">
                        <div style="width: 100%; border-bottom-style: solid; border-right-style: solid; border-bottom-right-radius: 0.75em; color: rgb(187,38,73)">
                            <div style="color: rgb(133,160,171); font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif; ">
                                <span><a class="section-link" href="../index.html">Abstract</a></span><br/>
                                <span><a class="section-link" href="./page-2.html">Build</a></span>
                            </div>
                        </div>
                        <span style="color: rgb(187,38,73); font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif;">Examples</span>
                        <div style="width: 100%; border-top-style: solid; border-right-style: solid; border-top-right-radius: 0.75em; color: rgb(187,38,73)">
                            <div style="color: rgb(133,160,171); font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif; height: 30em">
                                <span><a class="section-link" href="./page-4.html">Configuration</a></span><br/>
                                <span><a class="section-link" href="./page-5.html">Technologies</a></span><br/>
                                <span><a class="section-link" href="./page-6.html">UML Diagrams</a></span><br/>
                                <span><a class="section-link" href="./page-7.html">Download</a></span><br/>
                                <span><a class="section-link" href="http://www.christofreichardt.de/project-studies/tracelogger/apidocs/index.html">API Docs</a></span><br/>
                                <span style="white-space: pre">    </span><br/>
                            </div>
                        </div>
                    </div>
                    <div class="content">
                        <div class="menu" style="margin-top: 1em">
                            <span><a class="menu" href="#section-1">(1) Simple Use</a></span><br/>
                            <span><a class="menu" href="#section-2">(2) Access by Name</a></span><br/>
                            <span><a class="menu" href="#section-3">(3) Access by Thread</a></span><br/>
                            <span><a class="menu" href="#section-4">(4) Access by Queue</a></span><br/>
                        </div>
                        <p id="section-1" class="headline">(1) Simple Use</p>
                        <div class="panel">
                            It is possible to directly use tracers by invoking suitable constructors:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code"><span class="keyword">final</span> FileTracer tracer = <span class="keyword">new</span> FileTracer("Example");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">tracer.setLogDirPath(Path.of(".", "log", "examples"));</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">tracer.open();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">class</span> Foo {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">void</span> bar() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.entry("void", <span class="keyword">this</span>, "bar()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("This is an example.");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    Foo foo = <span class="keyword">new</span> Foo();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    foo.bar(); // nothing will be printed because no tracing context has been provided</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    tracer.initCurrentTracingContext(1, true);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    foo.bar(); // this generates output</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">} <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    tracer.close();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            A <span class="code">FileTracer</span> instance will be created in line 1. The filename of the associated logfile <span class="code">Example.log</span> corresponds to the name 
                            of the tracer. The default location of the logfile would be <span class="code">./log/Example.log</span> but this is overwritten in line 2 and therefore the logfile is located 
                            at <span class="code">./log/examples/Example.log</span>. The logfile will be opened in line 3. It is strongly recommended to put the related <span class="code">close()</span> 
                            directive into a finally block otherwise you are risking data loss, see line 20. Within this example we would like to monitor the <span class="code">bar()</span>-method of 
                            the nested class <span class="code">Foo</span>. The corresponding method image will be pushed onto the stack in line 7 and will be popped from the stack in line 11. The
                            tracing output given in line 9 will be indented according to the stack size at that time. It is of vital importance that every <span class="code">entry()</span>-call is matched 
                            by a related <span class="code">wayout()</span>-call within a finally block. A so called tracing context will be needed to actually generate output. The corresponding 
                            directive in line 17 instructs the tracer to activate print-statements for the current thread until the stack size exceeds one. Below, you can see the tracing output of this 
                            simple example:
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%"> 1 --> TraceLog opened!
 2     Time     : 2023-11-07T14:26:27.711423+01:00[Europe/Berlin]
 3     Bufsize  : 512
 4     Autoflush: true
 5 
 6 ENTRY--void Foo[1765795529].bar()--main[1]
 7   This is an example.
 8 RETURN-void Foo[1765795529].bar()--(+0ms)--(+0ms)--main[1]
 9 
10 --> TraceLog closing!
11     Time     : 2023-11-07T14:26:27.7270374+01:00[Europe/Berlin]
                        </div>
                        <div class="panel">
                            The tracer notes the time of its opening and closing together with the configured buffer size and autoflush status. You see the default values. Autoflush means that after
                            every call to <span class="code">wayout()</span> the underlying PrintStream will be automatically flushed. The numbers within the rectangular braces are the hash code given by
                            <a class="code-link" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)">System.identityHashCode(java.lang.Object)</a>. 
                            The output has been produced by the main-thread with thread-id 1.
                        </div>
                        <p><a class="content-link" href="#">top</a></p>
                        <p id="section-2" class="headline">(2) Access by Name</p>
                        <div class="panel">
                            When using the <span class="code">TracerFactory</span> together with a suitable configuration, tracer instances can be accessed by name. The corresponding method returns a 
                            polymorphic <span class="code">AbstractTracer</span> instance. E.g., by configuration, a regular <span class="code">FileTracer</span> might be replaced by a 
                            <span class="code">NetTracer</span>. The latter one streams its output to a designated socket address. Consider the simple configuration given below:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">&lt;?xml version="1.0" encoding="UTF-8" ?></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;TraceConfig xmlns="http://www.christofreichardt.de/java/tracer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;Pool></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;TraceLogger name="ExampleTracer" class="de.christofreichardt.diagnosis.file.FileTracer"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;LogDir>./log/examples&lt;/LogDir></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;AutoFlush>true&lt;/AutoFlush></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;BufSize>1024&lt;/BufSize></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Limit>1048576&lt;/Limit></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Context></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Thread name="main"></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;Online>true&lt;/Online></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;DebugLevel>5&lt;/DebugLevel></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;/Thread></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Context></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/TraceLogger></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;/Pool></td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;/TraceConfig></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            From line 4 onwards a <span class="code">FileTracer</span> named 'ExampleTracer' is defined. The accompanying log will be located at 
                            <span class="code">./log/examples/ExampleTracer.log</span>. <span class="code">AutoFlush</span> is set to true, that is after every call to <span class="code">wayout()</span> 
                            the underlying <span class="code">PrintStream</span> will be flushed. The buffer size is equal to 1 Kibibyte (=1024 bytes). If the logfile grows to roughly 1 MebiByte
                            (=1024*1024 bytes) the logfile will be rotated. The 'ExampleTracer' is interested in output created by the main-Thread up to a stack depth of 5. Further tracers aren't
                            defined in the pool. Under the assumption that the configuration file is located at <span class="code">./config/ExampleConfig.xml</span>, the configuration can be used 
                            as follows:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">TracerFactory.getInstance().readConfiguration(Path.of(".", "config", "ExampleConfig.xml").toFile());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">final</span> AbstractTracer tracer = TracerFactory.getInstance().getTracer("ExampleTracer"); // this will throw an exception if the 'ExampleTracer' doesn't exist</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">tracer.open();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">class</span> Foo {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">void</span> bar() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.entry("void", <span class="keyword">this</span>, "bar()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("Within bar().");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                baz();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"> </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">void</span> baz() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.entry("void", <span class="keyword">this</span>, "baz()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("Within baz().");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    Foo foo = <span class="keyword">new</span> Foo();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    foo.bar(); // nothing will be printed because no tracing context has been provided</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    tracer.initCurrentTracingContext(); // the configured tracing context will be used</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    foo.bar(); // this generates output</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">} <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    tracer.close();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            This will result in the following output:
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%"> 1 --> TraceLog opened!
 2     Time     : 2023-11-13T14:40:49.4799299+01:00[Europe/Berlin]
 3     Bufsize  : 1024
 4     Autoflush: true
 5
 6 ENTRY--void Foo[2106592975].bar()--main[1]
 7   Within bar().
 8   ENTRY--void Foo[2106592975].baz()--main[1]
 9     Within baz().
10   RETURN-void Foo[2106592975].baz()--(+0ms)--(+0ms)--main[1]
11 RETURN-void Foo[2106592975].bar()--(+11ms)--(+15ms)--main[1]
12
13 --> TraceLog closing!
14     Time     : 2023-11-13T14:40:49.5019298+01:00[Europe/Berlin]
                        </div>
                        <div class="panel">
                            This approach makes sense if you want to analyze a single-threaded application. Within a multi-threaded environment only the main-thread would generate output when executing
                            the given code. It is possible to register a tracer for more than one thread but then you would have to synchronize the access to the output stream by yourself. The class
                            <span class="code">IndentablePrintStream</span> provides synchronization primitives for this purpose. Instead of this, the approach shown in the next section is desired:
                        </div>
                        <p><a class="content-link" href="#">top</a></p>
                        <p id="section-3" class="headline">(3) Access by Thread</p>
                        <div class="panel">
                            This procedure is recommended if you have control over the creation of the utilized threads, e.g. through a 
                            <a class="code-link" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ThreadFactory.html">ThreadFactory</a>. For every to be observed 
                            thread an associated tracer must be defined. Thereupon the appropriate tracer can be retrieved via convenient access methods. The association between thread and tracer is 
                            carried out by mapping thread names on tracers since prior to program execution no thread ids exist. Consequently, care must be taken to ensure that the utilized threads are 
                            uniquely named. 
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">34</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">35</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">36</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">37</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">38</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">39</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">40</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">41</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">42</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">43</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">44</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">45</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">46</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">47</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">48</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">49</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">50</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">51</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">52</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">53</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">54</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;TraceConfig xmlns="http://www.christofreichardt.de/java/tracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;Pool&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;TraceLogger name="WorkerTracer-0" class="de.christofreichardt.diagnosis.file.FileTracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;LogDir&gt;./log/examples&lt;/LogDir&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;AutoFlush&gt;true&lt;/AutoFlush&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;BufSize&gt;1024&lt;/BufSize&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Limit&gt;1048576&lt;/Limit&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Thread name="Worker-0"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;Online&gt;true&lt;/Online&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;DebugLevel&gt;5&lt;/DebugLevel&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/TraceLogger&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;TraceLogger name="WorkerTracer-1" class="de.christofreichardt.diagnosis.file.FileTracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;LogDir&gt;./log/examples&lt;/LogDir&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;AutoFlush&gt;true&lt;/AutoFlush&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;BufSize&gt;1024&lt;/BufSize&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Limit&gt;1048576&lt;/Limit&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Thread name="Worker-1"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;Online&gt;true&lt;/Online&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;DebugLevel&gt;5&lt;/DebugLevel&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/TraceLogger&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;TraceLogger name="WorkerTracer-2" class="de.christofreichardt.diagnosis.file.FileTracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;LogDir&gt;./log/examples&lt;/LogDir&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;AutoFlush&gt;true&lt;/AutoFlush&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;BufSize&gt;1024&lt;/BufSize&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Limit&gt;1048576&lt;/Limit&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Thread name="Worker-2"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;Online&gt;true&lt;/Online&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">          &lt;DebugLevel&gt;5&lt;/DebugLevel&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Context&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/TraceLogger&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;/Pool&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;Map&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;Threads&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Thread name="Worker-0"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;TraceLogger ref="WorkerTracer-0"/&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Thread name="Worker-1"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;TraceLogger ref="WorkerTracer-1"/&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;Thread name="Worker-2"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;TraceLogger ref="WorkerTracer-2"/&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">      &lt;/Thread&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/Threads&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  &lt;/Map&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;/TraceConfig&gt;</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>                
                        <div class="panel">
                            in the above shown configuration we define three tracers (WorkerTracer-0, WorkerTracer-1 and WorkerTracer-2) which are interested in the output of three worker threads 
                            (Worker-0, Worker-1 and Worker-2). Furthermore, a mapping between threads and tracers has been specified (Worker-0 -> WorkerTracer-0, Worker-1 -> WorkerTracer-1 and
                            Worker-2 -> WorkerTracer-2). The following code snippet illustrates how the given configuration can be applied:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table id="lineNumbers">
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">34</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">35</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">36</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">37</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">38</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">39</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">40</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">41</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">42</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">43</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">44</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">45</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">46</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">47</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">48</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">49</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">50</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">51</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">52</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">53</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">54</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">55</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">56</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">57</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">58</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">59</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">60</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">61</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">62</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">63</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">64</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">65</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">66</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">67</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">68</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">69</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">70</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">71</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">72</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">73</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">74</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">75</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">76</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">77</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">78</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">79</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">80</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">81</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table id="lines">
                                                <tbody>
                                                    <tr>
                                                        <td class="code"><span class="keyword">class</span> Foo <span class="keyword">implements</span> Callable&lt;Integer&gt;, Traceable {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> <span class="keyword">int</span> id;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> Foo(<span class="keyword">int</span> id) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">this</span>.id = id;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> Integer call() throws java.lang.Exception {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        AbstractTracer tracer = getCurrentTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        tracer.initCurrentTracingContext();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        tracer.entry("Integer", <span class="keyword">this</span>, "call()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.logMessage(LogLevel.INFO, "Consumer(" + <span class="keyword">this</span>.id + ")", getClass(), "call()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            bar();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">return</span> <span class="keyword">this</span>.id;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">void</span> bar() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        getCurrentTracer().entry("void", <span class="keyword">this</span>, "bar()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            getCurrentTracer().out().printfIndentln("Within bar().");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            baz();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            getCurrentTracer().wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">void</span> baz() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        getCurrentTracer().entry("void", <span class="keyword">this</span>, "baz()");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            getCurrentTracer().out().printfIndentln("Within baz().");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            getCurrentTracer().wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> AbstractTracer getCurrentTracer() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">return</span> TracerFactory.getInstance().getCurrentPoolTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">TracerFactory.getInstance().readConfiguration(Path.of(".", "config", "ExampleConfig_2.xml").toFile());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">TracerFactory.getInstance().openPoolTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> <span class="keyword">int</span> THREAD_NUMBER = 3;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> <span class="keyword">int</span> ITERATIONS = 100;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> <span class="keyword">int</span> TIMEOUT = 5;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    List&lt;Future&lt;Integer&gt;&gt; futures = <span class="keyword">new</span> ArrayList&lt;&gt;();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    ExecutorService executorService = Executors.newFixedThreadPool(THREAD_NUMBER, <span class="keyword">new</span> ThreadFactory() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">final</span> AtomicInteger threadNr = <span class="keyword">new</span> AtomicInteger();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">public</span> Thread newThread(Runnable r) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">return</span> <span class="keyword">new</span> Thread(r, "Worker-" + <span class="keyword">this</span>.threadNr.getAndIncrement());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    });</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        for (<span class="keyword">int</span> i = 0; i &lt; ITERATIONS; i++) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            futures.add(executorService.submit(<span class="keyword">new</span> Foo(i)));</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">int</span> i = 0;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            for (Future&lt;Integer&gt; future : futures) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">assert</span> future.get() == i;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                i++;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } <span class="keyword">catch</span> (ExecutionException ex) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            ex.getCause().printStackTrace(System.err);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        executorService.shutdown();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">assert</span> executorService.awaitTermination(TIMEOUT, TimeUnit.SECONDS);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">} <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    TracerFactory.getInstance().closePoolTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            The class <span class="code">Foo</span> implements the 
                            <a class="code-link" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/Callable.html">Callable</a> interface and is therefore suited to 
                            be submitted to an <a class="code-link" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ExecutorService.html">Executorservice</a> for 
                            parallel execution. In addition the interface <span class="code">Traceable</span> is implemented, see lines 42-44. The expression 
                            <span class="code">TracerFactory.getInstance().getCurrentPoolTracer()</span> returns the associated tracer for the current thread. The given configuration could
                            be easily overwritten by e.g. <span class="code">TracerFactory.getInstance().getDefaultTracer()</span> which would return a <span class="code">NullTracer</span>. 
                            A <span class="code">NullTracer</span> discards all tracing output. Specialized <span class="code">NullTracer</span>s may route the INFO-, WARNING- and ERROR-messages
                            to conventional Logger systems, such like Logback. If no mapping is defined for a given thread, <span class="code">TracerFactory.getInstance().getCurrentPoolTracer()</span> 
                            would return a <span class="code">NullTracer</span>, too. We get ourselves an <span class="code">Executorservice</span> in line 54. This 
                            <span class="code">Executorservice</span> provides a pool containing of three threads operating on a shared unbounded queue of work tasks. The given 
                            <span class="code">ThreadFactory</span> creates the threads with the intended names. 100 <span class="code">Foo</span> objects are submitted to the specified 
                            <span class="code">Executorservice</span> from line 63 to line 65. Which of the three threads works on a particular <span class="code">Foo</span> task is not predictable, that 
                            is the output of the 100 <span class="code">Foo</span> instances will be more or less evenly distributed between the three accompanying logs. However, output generated from 
                            thread Worker-0 will always be routed to WorkerTracer-0, output generated from thread Worker-1 will be routed to WorkerTracer-1 and so on. An excerpt from 
                            <span class="code">WorkerTracer-0.log</span> is shown below:
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%">  1 --> TraceLog opened!
  2     Time     : 2023-11-15T13:01:52.6094606+01:00[Europe/Berlin]
  3     Bufsize  : 1024
  4     Autoflush: true
 
...
 
 61 ENTRY--Integer Foo[1724272678].call()--Worker-1[35]
 62 +------+
 63 | INFO |  [2023-11-15T13:01:52.6576449] [35,Worker-1] [de.christofreichardt.diagnosis.ExampleUnit5$2Foo] [call()] "Consumer(16)"
 64 +------+
 65   ENTRY--void Foo[1724272678].bar()--Worker-1[35]
 66     Within bar().
 67     ENTRY--void Foo[1724272678].baz()--Worker-1[35]
 68       Within baz().
 69     RETURN-void Foo[1724272678].baz()--(+0ms)--(+0ms)--Worker-1[35]
 70   RETURN-void Foo[1724272678].bar()--(+2ms)--(+0ms)--Worker-1[35]
 71 RETURN-Integer Foo[1724272678].call()--(+2ms)--(+0ms)--Worker-1[35]
 
...
 
370 --> TraceLog closing!
371     Time     : 2023-11-15T13:01:52.7162078+01:00[Europe/Berlin]</div>
                        <div class="panel">
                            Sometimes we didn't control the thread creation, like shown in the example above. Thus, we are not in the position to guarantee the uniqueness of thread names, nor
                            do we even sometimes know the thread names prior to program execution. Consequently we cannot define a mapping between threads and tracers. In this case, we can use the 
                            Tracer-Queue, see the next section.
                        </div>
                        <p><a class="content-link" href="#">top</a></p>
                        <p id="section-4" class="headline">(4) Access by Queue</p>
                        <div class="panel">
                            Jakarta EE applications are operating under the control of an application server, e.g. Tomcat. Incoming requests will be served by (virtual) threads which might (or might not) 
                            originate from a thread pool. In either case we might not be able to configure the thread pool or the thread creation to suit our requirements. Thus, we define a 
                            (blocking) queue containing some uniform tracers which can be used to track the incoming requests. The queue blocks if no tracer is available at the moment. This will 
                            effectively limit the number of requests which can be concurrently processed, notwithstanding the size of the server's thread pool or other policies when working with virtual 
                            threads. The current tracing context of some active tracer will be automatically cleared when the last method image has been popped from its stack and the now inactive tracer 
                            will be returned to the queue. Consider the following configuration defining a queue with three tracers:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;TraceConfig xmlns="http://www.christofreichardt.de/java/tracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;Pool/&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;DefaultTracer class="de.christofreichardt.diagnosis.JDKLoggingRouter"/&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;Queue&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Enabled /&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Size&gt;3&lt;/Size&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;TraceLogger name="servlet-tracer-"</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                     class="de.christofreichardt.diagnosis.file.QueueFileTracer"&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            &lt;LogDir&gt;${catalina.base}/logs&lt;/LogDir&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            &lt;AutoFlush&gt;true&lt;/AutoFlush&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            &lt;BufSize&gt;1024&lt;/BufSize&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;/TraceLogger&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;Online&gt;true&lt;/Online&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        &lt;DebugLevel&gt;5&lt;/DebugLevel&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    &lt;/Queue&gt;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">&lt;/TraceConfig&gt;</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            Note the declaration regarding the log directory in line 10. Since the example application has been developed using a Apache Tomcat 10, we apply its 
                            <span class="code">catalina.base</span> system property to denote the <span class="code">logs</span>-directory of the Tomcat distribution. (You can use system properties
                            wherever you want within the XML configuration, that is element content or attributs.)
                            Under the assumption that the
                            configuration file has been attached to the package <span class="code">de.christofreichardt.tracefilter</span> as resource, we can implement the following 
                            <span class="code">ServletContextListener</span>:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code"><span class="keyword">public</span> <span class="keyword">class</span> MyContextListener <span class="keyword">implements</span> ServletContextListener {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> <span class="keyword">static</span> Logger LOGGER = Logger.getLogger("de.christofreichardt.tracefilter");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> <span class="keyword">void</span> contextInitialized(ServletContextEvent servletContextEvent) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        LOGGER.info("Context initialized ...");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        LOGGER.info("Context path = %s".formatted(servletContextEvent.getServletContext().getContextPath()));</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        InputStream resourceAsStream = MyContextListener.class.getClassLoader().getResourceAsStream("de/christofreichardt/tracefilter/trace-config.xml");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">if</span> (resourceAsStream != null) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                TracerFactory.getInstance().reset();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                TracerFactory.getInstance().readConfiguration(resourceAsStream);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                TracerFactory.getInstance().openQueueTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">catch</span> (TracerFactory.Exception ex) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                LOGGER.log(Level.WARNING, "Problems occured when reading the tracer configuration.", ex);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                    resourceAsStream.close();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                } <span class="keyword">catch</span> (IOException ex) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } else {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            LOGGER.warning("Missing tracer configuration.");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> <span class="keyword">void</span> contextDestroyed(ServletContextEvent servletContextEvent) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        TracerFactory.getInstance().closeQueueTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        LOGGER.info("Context destroyed ...");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            <span class="code">ServletContextListener</span>s are notified before the initialization of filters and servlets or rather are notified after the release of all servlets and 
                            filters. Thus, context listeners work well for the initialization or rather for the cleanup of the tracers. Conversely, <span class="code">WebFilter</span>s can 
                            be used for the activation of tracers, see below:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">34</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">35</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">@WebFilter(filterName = "MyTraceFilter", servletNames = {"MyServlet"}, initParams = {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @WebInitParam(name = "tracing", value = "on")</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">})</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">public</span> <span class="keyword">class</span> MyTraceFilter <span class="keyword">implements</span> Filter {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    FilterConfig filterConfig;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> AtomicInteger atomicInteger = <span class="keyword">new</span> AtomicInteger();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> <span class="keyword">void</span> init(FilterConfig filterConfig) <span class="keyword">throws</span> ServletException {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">this</span>.filterConfig = filterConfig;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> <span class="keyword">void</span> doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) <span class="keyword">throws</span> IOException, ServletException {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">int</span> requestCounter = <span class="keyword">this</span>.atomicInteger.getAndIncrement();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        servletRequest.setAttribute("de.christofreichardt.tracefilter.requestCounter", requestCounter);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">if</span> ("on".equalsIgnoreCase(<span class="keyword">this</span>.filterConfig.getInitParameter("tracing"))) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            AbstractTracer tracer = TracerFactory.getInstance().takeTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.initCurrentTracingContext();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.entry("void", <span class="keyword">this</span>, "doFilter(ServletRequest request, ServletResponse response, FilterChain chain)");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("method = %s", httpServletRequest.getMethod());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("contextPath = %s", httpServletRequest.getContextPath());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.out().printfIndentln("requestCounter = %d", requestCounter);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                filterChain.doFilter(servletRequest, servletResponse);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } else {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            filterChain.doFilter(servletRequest, servletResponse);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            Consider line 20: Without fetching a tracer from the queue like this <span class="code">TracerFactory.getInstance().getCurrentQueueTracer()</span> would return a
                            <span class="code">NullTracer</span>. That is, simply removing the <span class="code">WebFilter</span> from the filter chain would deactivate the tracing.
                            The stament in line 29 does not only pop the method image from the stack but also puts the the tracer back into the blocking queue, because the stack is then empty.
                            The tracer can be deactivated by editing the tracing-<span class="code">WebInitParam</span>, too. The to be observed <span class="code">Servlet</span> is shown next:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">34</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">35</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">36</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">37</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code">@WebServlet(name = "MyServlet", urlPatterns = {"/*"})</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">public</span> <span class="keyword">class</span> MyServlet <span class="keyword">extends</span> HttpServlet <span class="keyword">implements</span> Traceable {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">protected</span> <span class="keyword">void</span> doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) <span class="keyword">throws</span> ServletException, IOException {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        AbstractTracer tracer = getCurrentTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        tracer.entry("void", <span class="keyword">this</span>, "doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">int</span> requestCounter = (<span class="keyword">int</span>) httpServletRequest.getAttribute("de.christofreichardt.tracefilter.requestCounter");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.logMessage(LogLevel.INFO, "%d. request ...".formatted(requestCounter), </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                    getClass(), "doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)");</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            String command;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> (BufferedReader bufferedReader = httpServletRequest.getReader()) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                command = bufferedReader.readLine();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.out().printfIndentln("command = %s", command);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">long</span> pause = ThreadLocalRandom.current().nextLong(100L);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                Thread.sleep(pause);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">catch</span> (InterruptedException ex) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(ex);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">if</span> ("REQUEST_LocalDateTime".equals(command)) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">try</span> (PrintWriter printWriter = httpServletResponse.getWriter()) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                    printWriter.printf("%3d: %s", requestCounter, LocalDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        } <span class="keyword">finally</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            tracer.wayout();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> AbstractTracer getCurrentTracer() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">return</span> TracerFactory.getInstance().getCurrentQueueTracer();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"> }</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            The servlet acts on POST requests by returning the present local date-time in ISO-8601 format. It pauses a random interval (&lt;100ms) before committing the result to
                            simulate some internal computations. We can trigger the servlet with the following client code:
                        </div>
                        <div class="code">
                            <table style="border-collapse: separate; padding: 0.1em">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table>
                                                <tbody style="text-align: right">
                                                    <tr>
                                                        <td class="code">1</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">2</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">3</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">4</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">5</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">6</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">7</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">8</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">9</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">10</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">11</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">12</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">13</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">14</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">15</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">16</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">17</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">18</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">19</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">20</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">21</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">22</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">23</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">24</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">25</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">26</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">27</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">28</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">29</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">30</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">31</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">32</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">33</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">34</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">35</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">36</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">37</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">38</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">39</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">40</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">41</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                        <td>
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td class="code"><span class="keyword">final</span> <span class="keyword">int</span> THREAD_NUMBER = 5;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">ExecutorService executorService = Executors.newFixedThreadPool(THREAD_NUMBER, <span class="keyword">new</span> ThreadFactory() {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">final</span> AtomicInteger threadNr = <span class="keyword">new</span> AtomicInteger();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    @Override</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    <span class="keyword">public</span> Thread newThread(Runnable r) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        <span class="keyword">return</span> <span class="keyword">new</span> Thread(r, "Worker-" + <span class="keyword">this</span>.threadNr.getAndIncrement());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">    }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">});</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">HttpClient httpClient = HttpClient.newBuilder()</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .executor(executorService)</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .build();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">HttpRequest httpRequest = HttpRequest.newBuilder()</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .uri(URI.create("http://localhost:8080/trace-filter-example"))</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .POST(HttpRequest.BodyPublishers.ofString("REQUEST_LocalDateTime"))</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .build();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">  </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">final</span> <span class="keyword">int</span> REQUESTS = 25;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">List&lt;CompletableFuture&lt;Stream&lt;String&gt;&gt;&gt; completableFutures = IntStream.range(0, REQUESTS)</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .mapToObj(i -&gt; {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">return</span> httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofLines())</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                    .thenApply(httpResponse -&gt; {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                        <span class="keyword">assert</span> httpResponse.statusCode() == 200;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                        <span class="keyword">return</span> httpResponse.body();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                    });</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        })</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .collect(Collectors.toList());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">List&lt;String&gt; responses = completableFutures.stream()</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .map(completableFuture -&gt; {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            <span class="keyword">try</span> {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">return</span> completableFuture.get();</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            } <span class="keyword">catch</span> (ExecutionException | InterruptedException ex) {</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(ex);</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">            }</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        })</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .flatMap(bodies -&gt; bodies)</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">        .collect(Collectors.toList());</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code"><span class="keyword">assert</span> responses.size() == REQUESTS;</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="code">responses.forEach(response -&gt; System.out.printf("response = %s%n", response));</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel">
                            We are asynchronously sending 25 POST requests by using a thread pool containing five threads. Since we are asynchronously posting the requests and since the service
                            waits some random time interval during the processing of each request, the responses won't be in order:
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%">response =  12: 2023-11-20T16:39:19.2222441
response =   1: 2023-11-20T16:39:18.8867623
response =   4: 2023-11-20T16:39:18.9627704
response =  18: 2023-11-20T16:39:19.1919087
response =   0: 2023-11-20T16:39:18.824767
response =   7: 2023-11-20T16:39:19.0556773
response =  23: 2023-11-20T16:39:19.3301539
response =  11: 2023-11-20T16:39:18.9807705
response =  17: 2023-11-20T16:39:19.1378188
response =  20: 2023-11-20T16:39:19.2712295
response =  22: 2023-11-20T16:39:19.2865033
response =  10: 2023-11-20T16:39:18.8547792
response =   9: 2023-11-20T16:39:19.0054473
response =  14: 2023-11-20T16:39:19.0264472
response =  13: 2023-11-20T16:39:19.0348963
response =   8: 2023-11-20T16:39:18.8687806
response =   2: 2023-11-20T16:39:19.0264472
response =  16: 2023-11-20T16:39:19.0959044
response =   6: 2023-11-20T16:39:19.1949069
response =  19: 2023-11-20T16:39:19.2654991
response =  24: 2023-11-20T16:39:19.3205006
response =   5: 2023-11-20T16:39:18.9397622
response =  15: 2023-11-20T16:39:19.0988537
response =  21: 2023-11-20T16:39:19.3260907
response =   3: 2023-11-20T16:39:18.8607791</div>                
                        <div class="panel">
                            Now, we take a look at one of the trace-logs from the service. An excerpt is shown below:
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%"> 1 --> TraceLog opened!
 2     Time     : 2023-11-20T16:39:09.6763475+01:00[Europe/Berlin]
 3     Bufsize  : 1024
 4     Autoflush: true

...

39 ENTRY--void MyTraceFilter[418479555].doFilter(ServletRequest request, ServletResponse response, FilterChain chain)--http-nio-8080-exec-6[41]
40   method = POST
41   contextPath = /trace-filter-example
42   requestCounter = 7
43   ENTRY--void MyServlet[1075871170].doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)--http-nio-8080-exec-6[41]
44 +------+
45 | INFO |  [2023-11-20T16:39:19.0379308] [41,http-nio-8080-exec-6] [de.christofreichardt.tracefilter.MyServlet] [doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)] "7. request ..."
46 +------+
47     command = REQUEST_LocalDateTime
48   RETURN-void MyServlet[1075871170].doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)--(+20ms)--(+0ms)--http-nio-8080-exec-6[41]
49 RETURN-void MyTraceFilter[418479555].doFilter(ServletRequest request, ServletResponse response, FilterChain chain)--(+20ms)--(+0ms)--http-nio-8080-exec-6[41]

...

84 --> TraceLog closing!
85    Time     : 2023-11-20T16:52:25.1624224+01:00[Europe/Berlin]</div>                
                        <div class="panel">
                            With a disabled trace filter, this would become (within the catalina.yyyy-MM-dd.log):
                        </div>
                        <div class="code" style="white-space: pre; line-height: 150%">236 20-Nov-2023 17:03:57.174 INFO [main] de.christofreichardt.tracefilter.MyContextListener.contextInitialized Context initialized ...
237 20-Nov-2023 17:03:57.176 INFO [main] de.christofreichardt.tracefilter.MyContextListener.contextInitialized Context path = /trace-filter-example

...

252 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-13] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 13. request ...
253 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-25] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 8. request ...
254 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-18] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 16. request ...
255 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-14] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 19. request ...
256 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-12] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 3. request ...
257 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-20] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 14. request ...
258 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-7] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 22. request ...
259 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-3] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 21. request ...
260 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-23] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 20. request ...
261 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-19] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 17. request ...
262 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-21] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 7. request ...
263 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-4] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 0. request ...
264 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-16] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 18. request ...
265 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-6] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 11. request ...
266 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-24] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 24. request ...
267 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-2] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 9. request ...
268 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-17] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 5. request ...
269 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-10] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 1. request ...
270 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-15] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 12. request ...
271 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-8] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 4. request ...
272 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-1] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 23. request ...
273 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-9] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 15. request ...
274 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-11] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 2. request ...
275 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-5] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 10. request ...
276 20-Nov-2023 17:04:09.199 INFO [http-nio-8080-exec-22] de.christofreichardt.tracefilter.MyServlet.doPost(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) 6. request ...

...

280 20-Nov-2023 17:09:29.413 INFO [main] de.christofreichardt.tracefilter.MyContextListener.contextDestroyed Context destroyed ...
</div>
                        <p><a class="content-link" href="#">top</a></p>
                    </div>
                </div>
            <div style="clear: both"></div>
            <div class="imprint">
                <img style="border-style: none" src="../imprint.png" alt="imprint"/>
            </div>
            <div id="imprint" style="height: 1em"></div>
            </div>
        </div>
    </body>
</html>
